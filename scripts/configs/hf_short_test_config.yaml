# ============================================
# SHORT TEST Configuration - 5 Samples
# HuggingFace Models: Qwen3-8B + Llama-3.2-3B
# For testing the error handling updates
# ============================================

# Data configuration
data:
  dataset_name: "JailbreakBench/JBB-Behaviors"
  data_dir: "../data/JBB-Behaviors"
  max_goals: 5  # SHORT TEST: Only 5 samples

# Agent model configurations - HuggingFace Models
agents:
  attacker:
    model: "qwen"
    model_id: "Qwen/Qwen3-8B"
    quantization: "auto"
    temperature: 0.7
    max_new_tokens: 2000
    top_p: 0.8
    top_k: 40
    repetition_penalty: 1.05
    do_sample: true
    hf_token_path: "/home/mrahma45/HUGGINGFACE_KEY"
    hf_model_path: "/scratch/mrahma45/hf_models"
    
  reasoning:
    model: "qwen"
    model_id: "Qwen/Qwen3-8B"
    quantization: "auto"
    temperature: 0.3
    max_new_tokens: 1500
    top_p: 0.8
    top_k: 40
    repetition_penalty: 1.05
    do_sample: true
    hf_token_path: "/home/mrahma45/HUGGINGFACE_KEY"
    hf_model_path: "/scratch/mrahma45/hf_models"
    
  target:
    model: "llama"
    model_id: "meta-llama/Llama-3.2-3B-Instruct"
    quantization: "none"
    temperature: 0.7
    max_new_tokens: 1000
    top_p: 0.9
    top_k: 40
    repetition_penalty: 1.1
    do_sample: true
    hf_token_path: "/home/mrahma45/HUGGINGFACE_KEY"
    hf_model_path: "/scratch/mrahma45/hf_models"
    
  judge:
    model: "qwen"
    model_id: "Qwen/Qwen3-8B"
    quantization: "auto"
    temperature: 0.0
    max_new_tokens: 800
    top_p: 0.8
    top_k: 40
    repetition_penalty: 1.05
    do_sample: false
    hf_token_path: "/home/mrahma45/HUGGINGFACE_KEY"
    hf_model_path: "/scratch/mrahma45/hf_models"

# Feature toggles
features:
  # GALA Learning - DISABLED for this test
  enable_gala_learning: false
  enable_tactic_wise_learning: false
  enable_prompt_wise_learning: false
  enable_knowledge_evolution: false
  
  # Traceback - enabled
  enable_traceback: true
  traceback_min_turns: 3
  
  # Tactic Generalization - DISABLED
  enable_tactic_generalization: false
  tactic_generalization_batch_size: 20
  
  # Belief State - enabled
  enable_belief_state_llm_update: true
  enable_dynamic_selection: true

# Pipeline configuration
pipeline:
  max_turns: 5  # Reduced for short test
  max_trials: 2
  timeout: 600
  early_stopping: true

# Output configuration
output:
  results_path: "hf_short_test_results.json"
  knowledge_path: "hf_short_test_knowledge.json"
  generalized_tactics_path: "hf_short_test_tactics.json"
  successful_jailbreaks_path: "hf_short_test_successes.json"
  save_intermediate: true
  verbose_logging: true

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Additional settings
settings:
  random_seed: 42
  retry_on_parse_failure: true
  max_parse_retries: 3
